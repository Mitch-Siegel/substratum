#include "tests-common.sb"

struct Money
{
    public u32 dollars;
    public u8 cents;
}

fun PrintMoney(Money *m)
{
    putc('$');
    printNum(m.dollars, 0);
    putc('.');
    printNum(m.cents, 1);
}

fun ResetMoney(Money *m)
{
    m.dollars = 0;
    m.cents = 0;
}

fun SetMoneyDoublePointer(Money **mp, u8 dollars, u8 cents)
{
    (*mp).dollars = dollars;
    (*mp).cents = cents;
}

fun SetMoney(Money *m, u8 dollars, u8 cents)
{
    SetMoneyDoublePointer(&m, dollars, cents);
}

fun main()
{
    Money twelveDollars;
    twelveDollars.dollars = 12;
    twelveDollars.cents = 0;
    PrintMoney(&twelveDollars);
    ResetMoney(&twelveDollars);
    PrintMoney(&twelveDollars);
    SetMoney(&twelveDollars, 12, 24);
    PrintMoney(&twelveDollars);
    exit();
}
